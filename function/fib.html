<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>产生斐波那契数列的函数</title>
</head>
<body>
    <script>

  //函数只能返回一次
        function fib(max) {
            var t,
                a=0,
                b=1,
                arr=[0,1];
            while(arr.length<max){
                t =a+b;
                a = b;
                b = t;
                arr.push(t);
            }
            return arr;
        }
        fib(5);


  //用generator改写
          function* fib2(max) {
              var
                  t,
                  a = 0,
                  b = 1,
                  n = 1;
              while (n < max) {
                  yield a;

                  t = a + b;
                  a = b;
                  b = t;
                  n ++;

              }
              return a;
          }
        var f = fib2(5);//只是创建了一个generator对象 , 还没有去执行它
        //执行它的方法 :1 : 不断调用generator的next()方法;
        //              2 : for .. of  循环迭代

//        console.log(f.next());
        console.log(f.next());//{value: 0, done: false}  value是 yield 的返回值
        console.log(f.next());
        console.log(f.next());
        console.log(f.next());
        console.log(f.next());
        console.log(f.next());

    </script>
</body>
</html>